define("crushinator",["exports"],function(t){"use strict";function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var c=arguments[e];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n])}return t}).apply(this,arguments)}var a="object"===("undefined"==typeof console?"undefined":u(console));function f(t,e){var c,n=1<arguments.length&&void 0!==e?e:0,o=t;return!0===t&&(o=n||1),null!=(c=t)&&!1!==c||(o=n),o=Number(o),isFinite(o)||(function(t){throw new Error(t)}('"'.concat(t,'" is not a finite number')),o=n),o}var c={fit:!0,unsharp:!0,quality:82};function r(t){var e=0<arguments.length&&void 0!==t?t:{};return m({},function(t,e){return void 0===t?1<arguments.length&&void 0!==e&&e:t}(e.defaults,!0)?c:{},e)}function s(t){var n,o,i={},d=(n=t,o={},Object.keys(n).forEach(function(t){var e=n[t],c=t.match(/([^-]+)-+(.*)/);c?(o[c[1]]=o[c[1]]||{},o[c[1]][c[2]]=e):o[t]=e}),o);return Object.keys(d).forEach(function(t){var e,c,n,o,a,r,s=d[t];switch(t){case"width":i.w=f(s);break;case"height":i.h=f(s);break;case"quality":i.quality=f(s);break;case"fit":m(i,(r={},(a=d).fit&&a.width&&a.height&&(m(r,{op:"^",c:"".concat(f(a.width),",").concat(f(a.height))}),a.align||(r.gravity="t")),r));break;case"align":i.gravity={top:"n",left:"w",center:"c",middle:"c",right:"e",bottom:"s"}[s]||"c";break;case"crop":i[s.afterResize?"c":"precrop"]=((o=[]).push(f((n=s).width)),o.push(f(n.height)),(Object.prototype.hasOwnProperty.call(n,"x")||Object.prototype.hasOwnProperty.call(n,"y"))&&(o.push(f(n.x)),o.push(f(n.y))),o.join(","));break;case"blur":i.blur="object"===u(s)?"".concat(f(s.radius),",").concat(f(s.sigma,2)):"0,".concat(f(s,2));break;case"gamma":i.gamma="object"===u(s)?"".concat(f(s.red,1),",").concat(f(s.green,1),",").concat(f(s.blue,1)):f(s,1);break;case"grayscale":case"greyscale":i.grayscale=100*f(s,1);break;case"unsharp":m(i,(e={},(c=d.unsharp)&&m(e,{u:{r:f(c.radius,2),s:f(c.sigma,.5),a:f(c.amount,.8),t:f(c.threshold,.03)}}),e));break;case"query":m(i,s||{})}}),i}function i(t){return encodeURIComponent(t)}function d(t){return"%".concat(t.charCodeAt(0).toString(16))}var e=["assets.tedcdn.com","assets2.tedcdn.com","ems.ted.com","ems-staging.ted.com","images.ted.com","pa.tedcdn.com","pb-assets.tedcdn.com","pe.tedcdn.com","pf.tedcdn.com","ph.tedcdn.com","pj.tedcdn.com","pk.tedcdn.com","pl.tedcdn.com","s3.amazonaws.com","s3-us-west-2.amazonaws.com","staging.ted.com","storage.ted.com","talkstar-photos.s3.amazonaws.com","tedcdnpa-a.akamaihd.net","tedcdnpe-a.akamaihd.net","tedcdnpf-a.akamaihd.net","tedconfblog.files.wordpress.com","tedideas.files.wordpress.com","tedlive.ted.com","tedlive-staging.ted.com","ted2017.ted.com","ted2017-staging.ted.com","userdata.amara.org","www.filepicker.io","www.ted.com"],p={defaults:!0,host:"https://pi.tedcdn.com"};function l(t){return-1!==e.indexOf(String(t).replace(/.*\/\/([^/]+).*/,"$1"))}function h(t){var e=String(t).match(/(.+)?\/\/(?:(?:img(?:-ssl)?|pi)\.tedcdn\.com|tedcdnpi-a\.akamaihd\.net)\/r\/([^?]+)/);return e?h("".concat(e[1],"//").concat(e[2])):t}function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=h(t);if(!l(c))return c;var n,o={};return"string"==typeof e&&(n="Sending Crushinator options as a query string is deprecated. Please use the object format.",a&&"function"==typeof console.warn&&console.warn(n),o=e),"object"===u(e)&&(o=function n(o,a){var r=[];return Object.keys(o).forEach(function(t){var e=o[t],c=a?"".concat(a,"[").concat(t,"]"):t;r.push("object"===u(e)?n(e,c):"".concat(i(c),"=").concat(i(e)))}),r.join("&")}(s(r(m({defaults:p.defaults},e))))),"".concat(p.host,"/r/").concat(c.replace(/.*\/\//,"")).concat(o?"?".concat(o):"").replace(/[()'"]/g,d)}t.config=p,t.crush=n,t.crushable=l,t.default=n,t.imageHosts=e,t.uncrush=h,Object.defineProperty(t,"__esModule",{value:!0})});
