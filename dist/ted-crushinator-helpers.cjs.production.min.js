"use strict";function e(e,t){void 0===t&&(t=0);var a=e;return!0===e&&(a=t||1),function(e){return null==e||!1===e}(e)&&(a=t),a=Number(a),Number.isFinite(a)||(function(e){throw new Error(e)}('"'+e+'" is not a finite number'),a=t),a}Object.defineProperty(exports,"__esModule",{value:!0});var t={fit:!0,unsharp:!0,quality:82};function a(e){return encodeURIComponent(e)}var r=["assets.tedcdn.com","assets2.tedcdn.com","ems.ted.com","ems-staging.ted.com","images.ted.com","pa.tedcdn.com","pb-assets.tedcdn.com","pe.tedcdn.com","pf.tedcdn.com","ph.tedcdn.com","pj.tedcdn.com","pk.tedcdn.com","pl.tedcdn.com","s3.amazonaws.com","s3-us-west-2.amazonaws.com","staging.ted.com","storage.ted.com","talkstar-photos.s3.amazonaws.com","tedcdnpa-a.akamaihd.net","tedcdnpe-a.akamaihd.net","tedcdnpf-a.akamaihd.net","tedconfblog.files.wordpress.com","tedideas.files.wordpress.com","tedlive.ted.com","tedlive-staging.ted.com","ted2017.ted.com","ted2017-staging.ted.com","www.filepicker.io","www.ted.com"],c={defaults:!0,host:"https://pi.tedcdn.com"};function n(e){return-1!==r.indexOf(function(e){return String(e).replace(/.*\/\/([^/]+).*/,"$1")}(e))}function s(e){var t=String(e).match(/(.+)?\/\/(?:(?:img(?:-ssl)?|pi)\.tedcdn\.com|tedcdnpi-a\.akamaihd\.net)\/r\/([^?]+)/);return t?s(t[1]+"//"+t[2]):e}function o(r,o){void 0===o&&(o={});var i=s(r);if(!n(i))return i;var d=function e(t,r){var c=[];return Object.keys(t).forEach((function(n){var s=t[n],o=r?r+"["+n+"]":n;c.push("object"==typeof s?e(s,o):a(o)+"="+a(s))})),c.join("&")}(function(t){var a,r,c={},n=(a=t,r={},Object.keys(a).forEach((function(e){var t=a[e],c=e.match(/([^-]+)-+(.*)/);c?(r[c[1]]=r[c[1]]||{},r[c[1]][c[2]]=t):r[e]=t})),r);return Object.keys(n).forEach((function(t){var a,r=n[t];switch(t){case"width":c.w=e(r);break;case"height":c.h=e(r);break;case"quality":c.quality=e(r);break;case"fit":Object.assign(c,function(t){var a={};return t.fit&&t.width&&t.height&&(Object.assign(a,{op:"^",c:e(t.width)+","+e(t.height)}),t.align||(a.gravity="t")),a}(n));break;case"align":c.gravity={top:"n",left:"w",center:"c",middle:"c",right:"e",bottom:"s"}[r]||"c";break;case"crop":c[(a=r,a.afterResize?"c":"precrop")]=function(t){var a=[];return a.push(e(t.width)),a.push(e(t.height)),(Object.prototype.hasOwnProperty.call(t,"x")||Object.prototype.hasOwnProperty.call(t,"y"))&&(a.push(e(t.x)),a.push(e(t.y))),a.join(",")}(r);break;case"blur":c.blur="object"==typeof r?e(r.radius)+","+e(r.sigma,2):"0,"+e(r,2);break;case"gamma":c.gamma="object"==typeof r?e(r.red,1)+","+e(r.green,1)+","+e(r.blue,1):e(r,1);break;case"grayscale":case"greyscale":c.grayscale=100*e(r,1);break;case"unsharp":Object.assign(c,function(t){var a={},r=t.unsharp;return r&&Object.assign(a,{u:{r:e(null==r?void 0:r.radius,2),s:e(null==r?void 0:r.sigma,.5),a:e(null==r?void 0:r.amount,.8),t:e(null==r?void 0:r.threshold,.03)}}),a}(n));break;case"query":Object.assign(c,r||{})}})),c}(function(e){return void 0===e&&(e={defaults:!0}),Object.assign({},(void 0===(r=!0)&&(r=!1),(void 0===(a=e.defaults)?r:a)?t:{}),e);var a,r}(Object.assign({defaults:c.defaults},o))));return c.host+"/r/"+i.replace(/.*\/\//,"")+(d?"?"+d:"")}exports.config=c,exports.crush=o,exports.crushable=n,exports.default=o,exports.imageHosts=r,exports.uncrush=s;
//# sourceMappingURL=ted-crushinator-helpers.cjs.production.min.js.map
